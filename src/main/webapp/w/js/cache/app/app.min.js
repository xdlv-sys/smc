controllers.controller("taxController",["$scope","$rootScope","common","modal","menu","$state","$filter","$mdSidenav",function(a,b,g,e,f,h,k,m){this.isOpen=a.isOpen=function(a){return f.isSectionSelected(a)};this.toggleOpen=a.toggleOpen=function(a){f.toggleSelectSection(a)};a.menuOpen=!0;a.toggleMenu=function(){a.menuOpen=!a.menuOpen};a.menu=f;a.loginSuccess=!1;a.$on("loginSuccess",function(f,d,e,l){a.loginSuccess=!0;b.user=a.user=d;b.mods=l;g.loadAllPage("/dept/obtainDepts.cmd",function(c){b.depts=c.data});b.back=function(){history.back()};b.allow=function(c){var a=!1;b.mods.each(function(b){a||b.id!==c||(a=!0)});return a};b.constructSelectedId=function(c,a){var b=c.selection.getSelectedRows(),d={};d[a]=[];angular.forEach(b,function(c){d[a].push(c.id)});return d};b.convertDate=function(c){return angular.isDate(c)?k("date")(c,"yyyy-MM-dd"):c};b.convertDates=function(c){angular.forEach(c,function(a){c[i]=b.convertDates(a)})};b.convertList=function(c,a,b){b=b||"id";angular.forEach(c[a],function(d,e){c[a+"["+e+"]."+b]=d});delete c[a]};b.onlyTheFirstDayPredicate=function(a){return 1===a.getDate()};b.convertParams=function(a,d){for(var c in a)a[c]=b.convertDate(a[c]);angular.forEach(a[d],function(c,e){for(var f in c)"$$hashKey"!==f&&(a[d+"["+e+"]."+f]=b.convertDate(c[f]))});delete a[d]};b.onlyYearAndMonth=function(a){return angular.isBlank(a)?"":k("date")(new Date(a),"yyyy-MM")};h.go(e)});a.logout=function(){g.post("/user/userLogout.cmd",null,{});a.loginSuccess=!1;h.go("login")};a.changePassword=function(b){e.open({title:"\u4fee\u6539\u5bc6\u7801",url:"js/tpl/change-password.html",canGo:function(a){console.log(a);return a.password&&a.newPassword&&a.newPassword===a.newPassword2},ok:function(b){b.name=a.user.name;g.post("/user/changePassword.cmd",b,{fail:function(){e.alert("\u4fee\u6539\u5bc6\u7801\u5931\u8d25")}})}},a)}}]);
/*# sourceMappingURL=app.min.js.map */